 <html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        const url = "https://api.thingspeak.com/channels/3079325/feeds.json?api_key=926SWO029CIVLZLZ";

        fetch(url)
        .then(response => response.json())
        .then(data => {
            const feeds = data.feeds;

            const chartData = [['Time', 'Temperature', 'Humidity']].concat(
              feeds.map(feed => [
                new Date (feed.created_at),
                parseFloat(feed.field1),
                parseFloat(feed.field2)
            ])
        );
            const DataTable = google.visualization.arrayToDataTable(chartData)
            
            var options = {
              title: 'Temperature and Humidity Line Chart',
              curveType: 'function',
              legend: { position: 'bottom' }
        };
            var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));
            chart.draw(DataTable, options);
        })
        .catch(error => {
            console.error("Error fetching data", error);
            document.getElementById("output").textContent ="Error loading data"
        });
      }
    </script>
  </head>
  <body>
    <div id="curve_chart" style="width: 900px; height: 500px"></div>
  </body>
</html>